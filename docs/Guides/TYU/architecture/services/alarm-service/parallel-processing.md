# Parallel processing

## Purpose

- 유동적인 작업량을 효율적으로 처리:
    - 유저가 설정 시간을 변경할 수 있기 때문에 특정 시간의 알림 준비 작업량은 유동적임
    - 특정 시간에 알림 작업이 과도하게 몰리는 경우 병렬 처리를 활용하면 병목현상을 방지할 수 있음
- 시스템 확장성 고려:
    - 서비스가 성장하면 처리해야 할 작업량이 늘어날 수 있음

## Dynamic Task Allocation

- 매 분 DB를 조회해서 특정 분에 알림을 보내는 유저 데이터를 가져옴
    - 알림 보내는 시간 n분 전에 조회
    - 운영값
- 유저의 수에 따라 워커를 생성하고 할당
    - 운영값

## Task Processing Flow

- 각 유저마다 자주 방문하는 위치 조회
- 자주 방문하는 곳의 날씨 확인
    - 격자-날씨 캐시 조회
- 알림 여부 결정
- 알림 생성
    - 알림 메시지 생성
    - 웹 페이지 링크 호스팅
- 알림 시간까지 대기
- 알림 전송
