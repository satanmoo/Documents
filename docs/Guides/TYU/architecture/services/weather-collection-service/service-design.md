# Weather Collection Service Design

## Objective

- 날씨 수집 서비스는 외부 기상청 API를 통해 날씨 정보를 주기적으로 수집하여 데이터베이스에 저장하고, 이를 기반으로 초단기예보 데이터를 관리 및 업데이트하는 것을 목표로 합니다.

## Service Overview

- 주요 기능:
    - 기상청 API로부터 모든 지역의 초단기예보 데이터 수집
        - 발효시각 1시간 이내
    - 매 10분 업데이트

- 추가 기능:
    - 발효시각 6시간 이내 데이터를 모두 저장
        - 나중에 출퇴근에 걸리는 시간에 따라 예보 정확도 향상 가능

## Data Flow

- 매 10분마다 초단기예보 격자자료 API 호출
    - 기준 시각 + 6h 까지
- 각 격자에 대한 강수 코드 값 추출
- 저장

## Data Update Mechanism

- 매 10분마다 API 호출
    - 기준 시각이 동일하면 기존 데이터 업데이트
    - 기준 시각이 변경된 경우 새로운 데이터 추가
      - 1시간 마다 기준 시각 변경
